<div class="task-list-container">
    <div class="task-list-header">
        <h2>Task List</h2>
    </div>
    <ul class="task-list">
        <li *ngFor="let task of tasks" class="task-item">
            <ng-container *ngIf="editingTaskId === task.id; else viewMode">
                <div *ngIf="editedTask" class="edit-task-container">
                    <input type="text" [(ngModel)]="editedTask.name" class="form-control task-input">
                    <select [(ngModel)]="editedTask.priority" class="form-select task-select">
                        <option *ngFor="let priority of taskService.getTaskPriorities()"
                                [value]="priority">{{ priority }}</option>
                    </select>
                    <div class="task-actions">
                        <button class="btn btn-success" (click)="saveEdit()">
                            <i class="bi bi-save"></i>
                        </button>
                        <button class="btn btn-secondary" (click)="cancelEdit()">
                            <i class="bi bi-x"></i>
                        </button>
                    </div>
                </div>
            </ng-container>
            <ng-template #viewMode>
                <span class="task-name">{{ task.name }}</span>
                <span class="task-priority">{{ task.priority }}</span>
                <div class="task-actions">
                    <button class="btn btn-primary" (click)="startEdit(task)">
                        <i class="bi bi-pencil"></i>
                    </button>
                    <button class="btn btn-danger" (click)="removeTask(task)">
                        <i class="bi bi-trash"></i>
                    </button>
                </div>
            </ng-template>
        </li>
    </ul>
</div>
